(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){},32:function(e,t,a){e.exports=a(63)},37:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(30),s=a.n(r),i=a(3),l=a(4),m=a(6),c=a(5),h=a(7),d=(a(37),a(10));var u={width:"100%",height:"10vh",background:"#333",color:"white",textAlign:"center",padding:"10px"},p={color:"white",textDecoration:"none"},f=function(){return o.a.createElement("header",{style:u},o.a.createElement("h1",null,"Calender"),o.a.createElement(d.b,{style:p,to:"/"},"Home")," | ",o.a.createElement(d.b,{style:p,to:"/About"},"About"))},g=a(8),b=(a(43),a(44),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).getColour=function(e){switch(e){case"High":return"red";case"Normal":return"grey";default:return"blue"}},a.getStyle=function(e){return{flex:"1 0 0",width:"100%",borderRadius:"5px",backgroundColor:a.getColour(e),fontSize:"17px",cursor:"pointer"}},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"taskContainer"},this.props.tasks.map(function(t){return o.a.createElement("div",{className:"gaps"},o.a.createElement("button",{style:e.getStyle(t.priority),onClick:e.props.handleClick.bind(e,t.id,t.name,t.day,t.priority,t.description)},t.name))}))}}]),t}(n.Component)),y=(a(20),a(21),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(c.a)(t).call(this,e))).state={timeFormVisible:!1},a.handleChange=function(e){a.props.onFormChange(e.target.name,e.target.value)},a.handleSubmit=function(e){a.props.onFormSubmit(),e.preventDefault()},a.toggleTimeVisible=function(){var e=a.state;!0===a.state.timeFormVisible?e.timeFormVisible=!1:e.timeFormVisible=!0,a.setState(e)},a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"formContainer",onSubmit:this.handleSubmit},o.a.createElement("form",null,o.a.createElement("p",null),o.a.createElement("label",{style:{fontSize:"20px"}},"Month:",o.a.createElement("select",{name:"month",value:this.props.form.month,style:{fontSize:"20px"},onChange:this.handleChange},this.props.months().map(function(e){return o.a.createElement("option",{value:e},e)}))),o.a.createElement("label",null,"Name:",o.a.createElement("input",{name:"taskName",value:this.props.form.taskName,maxLength:30,type:"text",onChange:this.handleChange})),o.a.createElement("label",null,"Add Time",o.a.createElement("input",{type:"checkbox",onChange:this.toggleTimeVisible})),this.state.timeFormVisible&&o.a.createElement("label",null,"Start time:",o.a.createElement("input",{name:"startTime",type:"time",onChange:this.handleChange})),this.state.timeFormVisible&&o.a.createElement("label",null,"End time:",o.a.createElement("input",{name:"endTime",type:"time",onChange:this.handleChange})),o.a.createElement("label",{style:{fontSize:"20px"}},"Day:",o.a.createElement("select",{name:"day",value:this.props.form.day,style:{fontSize:"20px"},onChange:this.handleChange},this.props.days.map(function(e){return o.a.createElement("option",{value:e},e)}))),o.a.createElement("label",null,"Priority:",o.a.createElement("select",{name:"priority",value:this.props.form.priority,style:{fontSize:"20px"},onChange:this.handleChange},o.a.createElement("option",{value:"Normal"},"Normal"),o.a.createElement("option",{value:"Low"},"Low"),o.a.createElement("option",{value:"High"},"High"))),o.a.createElement("label",null,"Description:",o.a.createElement("textarea",{name:"description",onChange:this.handleChange})),o.a.createElement("label",null,o.a.createElement("input",{style:{width:"100px",textAlign:"center",fontSize:"20px"},type:"Submit"}))))}}]),t}(n.Component)),E=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,o.a.createElement("u",null,this.props.info.taskName)),o.a.createElement("h2",null,"Priority: ",this.props.info.priority),o.a.createElement("h2",null,"Description"),o.a.createElement("p",null,this.props.info.description),o.a.createElement("button",{className:"taskButton delete",style:{fontSize:"30px"},onClick:this.props.handleDelete.bind(this,this.props.info.id)},"Delete Task"))}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(c.a)(t).call(this,e))).handleChange=function(e){a.props.onFormChange(e.target.name,e.target.value)},a.handleSubmit=function(e){a.props.onUpdateSubmit(),e.preventDefault()},a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"formContainer",onSubmit:this.handleSubmit},o.a.createElement("form",null,o.a.createElement("h3",null,"Month: ",this.props.monthName),o.a.createElement("label",null,"Task Name:",o.a.createElement("input",{name:"taskName",value:this.props.info.taskName,maxLength:30,type:"text",onChange:this.handleChange})),o.a.createElement("label",{style:{fontSize:"20px"}},"Day:",o.a.createElement("select",{name:"day",value:this.props.info.day,style:{fontSize:"20px"},onChange:this.handleChange},this.props.days.map(function(e){return o.a.createElement("option",{value:e},e)}))),o.a.createElement("label",null,"Priority:",o.a.createElement("select",{name:"priority",value:this.props.info.priority,style:{fontSize:"20px"},onChange:this.handleChange},o.a.createElement("option",{value:"Normal"},"Normal"),o.a.createElement("option",{value:"Low"},"Low"),o.a.createElement("option",{value:"High"},"High"))),o.a.createElement("label",null,"Description:",o.a.createElement("textarea",{name:"description",value:this.props.info.description,onChange:this.handleChange})),o.a.createElement("label",null,o.a.createElement("input",{style:{width:"100px",textAlign:"center",fontSize:"20px"},type:"submit",value:"Update"}))))}}]),t}(n.Component),v=a(13),N=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(c.a)(t).call(this,e))).state={form:{taskName:"",month:a.props.month.monthName,startTime:"",endTime:"",day:1,priority:"Normal",description:""},hidden:{formHidden:!0,taskInfoHidden:!0,updateInfoHidden:!0},info:{id:"",taskName:"",month:"",day:1,priority:"",description:""}},a.updateChange=function(e,t){var n=a.state;switch(e){case"month":n.form.month=t;break;case"taskName":n.form.taskName=t;break;case"day":n.form.day=parseInt(t);break;case"priority":n.form.priority=t;break;case"description":console.log("Updating description"),n.form.description=t;break;case"startTime":n.form.startTime=t,console.log("Start Time: "+t);break;case"endTime":n.form.endTime=t,console.log("End Time: "+t);break;default:console.log("Error with switch case, got"+t)}a.setState({newState:n})},a.addTask=function(){a.props.addTask(a.state.form),a.toggleOff()},a.resetForm=function(){var e=a.state;e.form.taskName="",e.form.startTime="",e.form.endTime="",e.form.day=1,e.form.priority="Normal",e.form.description="",a.setState({newState:e})},a.toggleForm=function(){var e=a.state;e.hidden.formHidden=!e.hidden.formHidden,e.hidden.taskInfoHidden=!0,e.hidden.updateInfoHidden=!0,a.setState({newState:e})},a.toggleInfo=function(e,t,n,o,r){console.log("Info:"+e+", "+t+", "+n+", "+o+", "+r+", ");var s=a.state;s.info.id=e,s.info.taskName=t,s.info.day=n,s.info.priority=o,s.info.description=r,s.hidden.formHidden=!0,s.hidden.updateInfoHidden=!0,s.hidden.taskInfoHidden=!1,a.setState({newState:s})},a.toggleOff=function(){var e=a.state;e.hidden.formHidden=!0,e.hidden.taskInfoHidden=!0,e.hidden.updateInfoHidden=!0,a.setState(e)},a.getDayTasks=function(e){for(var t=[],n=0;n<a.props.month.tasks.length;n++)""!==a.props.month.tasks[n].day&&parseInt(e)===a.props.month.tasks[n].day&&t.push(a.props.month.tasks[n]);return t},a.removeEmptyDays=function(e){for(var t=[],a=0;a<e.length;a++)""!==e[a]&&t.push(e[a]);return t},a.createTableRows=function(){for(var e=new Date,t=[],n=0;n<6;n++){for(var r=[],s=0;s<7;s++){var i=7*n+s,l="calenderItem";0!==i&&i%7!==0||(l+=" left"),i>34&&(l+=" bot"),e.getMonth()===a.props.month.id-1&&e.getDate()===parseInt(a.props.month.days[i])?r.push(o.a.createElement("div",{className:l,style:{backgroundColor:"lightblue"},"data-date":a.props.month.days[i]},o.a.createElement(b,{tasks:a.getDayTasks(a.props.month.days[i]),handleClick:a.toggleInfo}))):r.push(o.a.createElement("div",{className:l,"data-date":a.props.month.days[i]},o.a.createElement(b,{tasks:a.getDayTasks(a.props.month.days[i]),handleClick:a.toggleInfo})))}t.push(o.a.createElement("div",{className:"Rows rowBottom"},r))}return t},a.taskDelete=function(e){a.props.taskDelete(e),a.toggleOff()},a.updateSubmit=function(){a.props.updateTask(a.state.info.id,a.state.form),a.toggleOff()},a.updateChange=a.updateChange.bind(Object(g.a)(a)),a.updateSubmit=a.updateSubmit.bind(Object(g.a)(a)),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"calenderContainer"},o.a.createElement("div",{className:"calender"},o.a.createElement("div",{className:"CalenderHeader"},o.a.createElement(d.b,{to:"/",className:"HeaderItem",onClick:this.props.changeMonth.bind(this,this.props.month.id,"back"),style:{paddingTop:"25px",textDecoration:"none",fontSize:"30px"}},"<"),o.a.createElement("div",{className:"HeaderItem",style:{textAlign:"center"}},o.a.createElement("h1",{className:"HeaderItem"},this.props.month.monthName),o.a.createElement("h3",null,(new Date).getFullYear())),o.a.createElement(d.b,{to:"/",className:"HeaderItem",onClick:this.props.changeMonth.bind(this,this.props.month.id,"next"),style:{paddingTop:"25px",textDecoration:"none",fontSize:"30px"}},">")),o.a.createElement("div",{className:"calenderBottom"},o.a.createElement("div",{className:"Table"},o.a.createElement("div",{className:"Rows"},o.a.createElement("div",{className:"rowHeader left"},"Sunday"),o.a.createElement("div",{className:"rowHeader"},"Monday"),o.a.createElement("div",{className:"rowHeader"},"Tuesday"),o.a.createElement("div",{className:"rowHeader"},"Wednesday"),o.a.createElement("div",{className:"rowHeader"},"Thursday"),o.a.createElement("div",{className:"rowHeader"},"Friday"),o.a.createElement("div",{className:"rowHeader"},"Saturday")),this.createTableRows()))),o.a.createElement("div",{className:"addingItem"},o.a.createElement("div",{className:"addingTop"},o.a.createElement(v.a,{style:{height:"inherit",width:"inherit",fontSize:"20px"},onClick:this.toggleForm},"Add Event")),o.a.createElement("div",{className:"addingBot"},o.a.createElement("div",{className:"formTab"},!this.state.hidden.formHidden&&o.a.createElement(y,{monthName:this.props.month.monthName,months:this.props.months,days:this.removeEmptyDays(this.props.month.days),form:this.state.form,onFormChange:this.updateChange,onFormSubmit:this.addTask})),o.a.createElement("div",{className:"InfoTab"},!this.state.hidden.taskInfoHidden&&o.a.createElement(E,{info:this.state.info,handleDelete:this.taskDelete})),o.a.createElement("div",{className:"UpdateTab"},!this.state.hidden.updateInfoHidden&&o.a.createElement(k,{monthName:this.props.month.monthName,months:this.props.months,days:this.removeEmptyDays(this.props.month.days),id:this.state.info.id,info:this.state.form,onFormChange:this.updateChange,onUpdateSubmit:this.updateSubmit})))))}}]),t}(n.Component),S=(a(45),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(c.a)(t).call(this))).createCalender=function(){for(var t=e.state,a=(new Date).getFullYear(),n=0;n<12;n++){for(var o=1,r=[],s=new Date(a,n,1).getDay(),i=new Date(a,n+1,0).getDate(),l=0;l<42;l++)l>=s&&o<=i?(r.push(o.toString()),o++):r.push("");console.log(r),t.months[n]={id:n+1,monthName:e.state.monthNames[n],days:r,tasks:[]}}e.setState({newState:t})},e.grabTasks=function(){fetch("https://calender-client.herokuapp.com/users").then(function(e){return e.json()}).then(function(t){var a=e.state,n=[];console.log(t);for(var o=0;o<t.recordset.length;o++)for(var r=e.separateDate(t.recordset[o].date),s=0;s<e.state.months.length;s++)if(r[1]===e.state.months[s].id){for(var i=0;i<e.state.months[s].tasks.length;i++)n.push(e.state.months[s].tasks[i].id);n.includes(t.recordset[o].eventId)||a.months[s].tasks.push({id:t.recordset[o].eventId,year:r[0],month:r[1],day:r[2],startTime:t.recordset[o].startTime,endTime:t.recordset[o].endTime,name:t.recordset[o].eventName,priority:t.recordset[o].priority,description:t.recordset[o].eventDescription})}a.current=e.state.months[(new Date).getMonth()],e.setState({newState:a})})},e.setCurrentMonth=function(){for(var t=(new Date).getMonth(),a=0;a<e.state.months.length;a++)if(e.state.months[a].id===t+1){var n=e.state;n.current=e.state.months[a],e.setState({newState:n})}},e.separateDate=function(e){var t=new Date(e);return[t.getFullYear(),t.getMonth()+1,t.getDate()]},e.changeMonth=function(t,a){for(var n=0;n<e.state.months.length;n++)if(e.state.months[n].id===Number(t)){var o=e.state.months[n].id,r=null;switch(a){case"next":r=12===o?1:o+1;break;case"back":r=1===o?12:o-1}e.setState({current:e.state.months[r-1]})}},e.addTask=function(t){var a={name:t.taskName,startTime:e.checkTime(t.startTime),endTime:e.checkTime(t.endTime),date:e.combineDate(t.day,t.month),priority:t.priority,description:t.description};console.log(a),"NULL"===a.startTime?fetch("https://calender-client.herokuapp.com/users/addTaskWithoutTime",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){if(e.status>=400)throw new Error(e.text);return e.json()}).then(function(e){console.log(e),"success"===e&&console.log("Item has been added")}).catch(function(e){console.log(e)}):fetch("https://calender-client.herokuapp.com/users/addTaskWithTime",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){if(e.status>=400)throw new Error(e.text);return e.json()}).then(function(e){console.log(e),"success"===e&&console.log("Item has been added")}).catch(function(e){console.log(e)}),e.grabTasks()},e.checkTime=function(e){return""===e?"NULL":e+":00"},e.combineDate=function(t,a){var n=t.toString();return 1===n.length&&(n="0"+n),"2020-"+e.numberMonth(a)+"-"+n},e.numberMonth=function(t){console.log(t);for(var a=0;a<=e.state.months.length;a++)if(e.state.months[a].monthName===t){var n=e.state.months[a].id.toString();return 1===n.length?"0"+n:n}},e.updateTask=function(t,a){for(var n=e.state.current.id-1,o=e.state,r=0;r<o.months[n].tasks.length;r++)if(o.months[n].tasks[r].id===t){o.months[n].tasks[r].name=a.taskName,o.months[n].tasks[r].day=a.day,o.months[n].tasks[r].priority=a.priority,o.months[n].tasks[r].description=a.description;break}e.setState({newState:o})},e.taskDelete=function(t){var a={id:t};fetch("https://calender-client.herokuapp.com/users/deleteTaskById",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){if(e.status>=400)throw new Error(e.text);return e.json()}).then(function(e){console.log(e),"success"===e&&console.log("Item has been added")}).catch(function(e){console.log(e)});for(var n=e.state.current.id-1,o=e.state,r=0;r<o.months[n].tasks.length;r++)if(o.months[n].tasks[r].id===t){o.months[n].tasks.splice(r,1);break}e.setState({newState:o})},e.getMonths=function(){for(var t=[],a=0;a<e.state.months.length;a++)t.push(e.state.months[a].monthName);return t},e.state={monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],months:[],current:{},test:[]},e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.createCalender(),this.state.current=this.state.months[(new Date).getMonth()]}},{key:"componentDidMount",value:function(){this.grabTasks()}},{key:"render",value:function(){return o.a.createElement(d.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(f,null),o.a.createElement(N,{id:"calender",month:this.state.current,months:this.getMonths,changeMonth:this.changeMonth,addTask:this.addTask,updateTask:this.updateTask,taskDelete:this.taskDelete})))}}]),t}(n.Component));s.a.render(o.a.createElement(S,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.02130c7d.chunk.js.map